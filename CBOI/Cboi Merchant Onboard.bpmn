<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_0jklz16" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.40.1" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.8.0">
  <bpmn:process id="CBOI_Merchant_Onboarding_V1" name="CBOI Merchant Onboarding" isExecutable="true">
    <bpmn:extensionElements />
    <bpmn:startEvent id="StartEvent_1" name="Start">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:output source="=userTaskAssignee" target="makerId" />
          <zeebe:output source="=&#34;Not Submitted&#34;" target="onboarding_status" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1mt94wt</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_1mt94wt" sourceRef="StartEvent_1" targetRef="Activity_0tr9pfn" />
    <bpmn:sequenceFlow id="Flow_1paqgpd" name="Submit Merchant Detail" sourceRef="Maker_Submit_Task" targetRef="Activity_0vnzks6" />
    <bpmn:endEvent id="Event_0atkmlw">
      <bpmn:incoming>Flow_1quolf2</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0f2c7s9" sourceRef="Checker_Approval_Task" targetRef="Gateway_06j88uw" />
    <bpmn:userTask id="Maker_Submit_Task" name="Maker - Submit Merchant Detail">
      <bpmn:extensionElements>
        <zeebe:userTask />
        <zeebe:assignmentDefinition assignee="=makerId" />
        <zeebe:formDefinition formId="Merchant_Detail_Cboi" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1xlfies</bpmn:incoming>
      <bpmn:incoming>Flow_10z29qj</bpmn:incoming>
      <bpmn:outgoing>Flow_1paqgpd</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Checker_Approval_Task" name="Checker - Approve/Reject Merchant">
      <bpmn:extensionElements>
        <zeebe:userTask />
        <zeebe:assignmentDefinition candidateGroups="=[&#34;ROLE_CHECKER&#34;,bank_branch_name]" />
        <zeebe:formDefinition formId="Checker_Form" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1k7r11p</bpmn:incoming>
      <bpmn:incoming>Flow_1svbzag</bpmn:incoming>
      <bpmn:incoming>Flow_0epx8rb</bpmn:incoming>
      <bpmn:outgoing>Flow_0f2c7s9</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_06j88uw">
      <bpmn:incoming>Flow_0f2c7s9</bpmn:incoming>
      <bpmn:outgoing>Flow_Checker_Approve</bpmn:outgoing>
      <bpmn:outgoing>Flow_Checker_Reject</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_Checker_Approve" name="Approve" sourceRef="Gateway_06j88uw" targetRef="Activity_0yopa39">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=checker.action = "Approve"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_Checker_Reject" name="Reject" sourceRef="Gateway_06j88uw" targetRef="Activity_0kg4yce">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=checker.action = "Reject"</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1wcpgjc" sourceRef="Activity_0kg4yce" targetRef="Activity_039nw8p" />
    <bpmn:scriptTask id="Activity_0kg4yce" name="Update onboarding status">
      <bpmn:extensionElements>
        <zeebe:script expression="=&#34;Rejected&#34;" resultVariable="onboarding_status" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_Checker_Reject</bpmn:incoming>
      <bpmn:outgoing>Flow_1wcpgjc</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:scriptTask id="Activity_08skwg6" name="Update onboarding status">
      <bpmn:extensionElements>
        <zeebe:script expression="=&#34;Approved&#34;" resultVariable="onboarding_status" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1b8b0l2</bpmn:incoming>
      <bpmn:outgoing>Flow_1quolf2</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1quolf2" sourceRef="Activity_08skwg6" targetRef="Event_0atkmlw" />
    <bpmn:scriptTask id="Activity_0ehb8ie" name="Update onboarding status">
      <bpmn:extensionElements>
        <zeebe:script expression="=&#34;Pending&#34;" resultVariable="onboarding_status" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_06wfndn</bpmn:incoming>
      <bpmn:outgoing>Flow_1k7r11p</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1k7r11p" sourceRef="Activity_0ehb8ie" targetRef="Checker_Approval_Task" />
    <bpmn:boundaryEvent id="Event_08gufua" attachedToRef="Maker_Submit_Task">
      <bpmn:outgoing>Flow_0dta87d</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_0esjas8">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">=if onboarding_status = "Not Submitted" then "P1D" else "P10Y"</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:endEvent id="Event_1yifgy2" name="Terminate Dormant Process">
      <bpmn:incoming>Flow_0dta87d</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_0sk7kg5" />
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0cvojvd" sourceRef="Activity_0yopa39" targetRef="Activity_1mwjb8u" />
    <bpmn:serviceTask id="Activity_0yopa39" name="Call Merchant Onboard Api" zeebe:modelerTemplate="io.camunda.connectors.HttpJson.v2" zeebe:modelerTemplateVersion="11" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE3LjAzMzUgOC45OTk5N0MxNy4wMzM1IDEzLjQ0NzUgMTMuNDI4MSAxNy4wNTI5IDguOTgwNjUgMTcuMDUyOUM0LjUzMzE2IDE3LjA1MjkgMC45Mjc3NjUgMTMuNDQ3NSAwLjkyNzc2NSA4Ljk5OTk3QzAuOTI3NzY1IDQuNTUyNDggNC41MzMxNiAwLjk0NzA4MyA4Ljk4MDY1IDAuOTQ3MDgzQzEzLjQyODEgMC45NDcwODMgMTcuMDMzNSA0LjU1MjQ4IDE3LjAzMzUgOC45OTk5N1oiIGZpbGw9IiM1MDU1NjIiLz4KPHBhdGggZD0iTTQuOTMxMjYgMTQuMTU3MUw2Ljc4MTA2IDMuNzE0NzFIMTAuMTM3NUMxMS4xOTE3IDMuNzE0NzEgMTEuOTgyNCAzLjk4MzIzIDEyLjUwOTUgNC41MjAyN0MxMy4wNDY1IDUuMDQ3MzYgMTMuMzE1IDUuNzMzNTggMTMuMzE1IDYuNTc4OTJDMTMuMzE1IDcuNDQ0MTQgMTMuMDcxNCA4LjE1NTIyIDEyLjU4NDEgOC43MTIxNUMxMi4xMDY3IDkuMjU5MTMgMTEuNDU1MyA5LjYzNzA1IDEwLjYyOTggOS44NDU5TDEyLjA2MTkgMTQuMTU3MUgxMC4zMzE1TDkuMDMzNjQgMTAuMDI0OUg3LjI0MzUxTDYuNTEyNTQgMTQuMTU3MUg0LjkzMTI2Wk03LjQ5NzExIDguNTkyODFIOS4yNDI0OEM5Ljk5ODMyIDguNTkyODEgMTAuNTkwMSA4LjQyMzc0IDExLjAxNzcgOC4wODU2MUMxMS40NTUzIDcuNzM3NTMgMTEuNjc0MSA3LjI2NTEzIDExLjY3NDEgNi42Njg0MkMxMS42NzQxIDYuMTkxMDYgMTEuNTI0OSA1LjgxODExIDExLjIyNjUgNS41NDk1OUMxMC45MjgyIDUuMjcxMTMgMTAuNDU1OCA1LjEzMTkgOS44MDkzNiA1LjEzMTlIOC4xMDg3NEw3LjQ5NzExIDguNTkyODFaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="noAuth" target="authentication.type" />
          <zeebe:input source="POST" target="method" />
          <zeebe:input source="https://services-cboi-uat.isupay.in/CBOI/merchant/bulk-onboard" target="url" />
          <zeebe:input source="={&#10;  &#34;Authorization&#34; :checker.token&#10;}" target="headers" />
          <zeebe:input source="=false" target="storeResponse" />
          <zeebe:input source="=20" target="connectionTimeoutInSeconds" />
          <zeebe:input source="=20" target="readTimeoutInSeconds" />
          <zeebe:input source="={ &#10; &#34;entityId&#34;: merchant_detail.entity_id,&#10; &#34;mobileNo&#34;: merchant_detail.mobile_no, &#10; &#34;merchantAccountNo&#34;: merchant_detail.account_no, &#10; &#34;accountType&#34;: merchant_detail.account_type, &#10; &#34;ifsc&#34;: merchant_detail.bank_ifsc, &#10; &#34;merchantLegalName&#34;: merchant_detail.merchant_name, &#10; &#34;channelId&#34;: merchant_detail.channel_id, &#10; &#34;mcc&#34;: (if  merchant_detail.mcc != null then merchant_detail.mcc else if merchant_detail.mccOthers != null then merchant_detail.mccOthers else merchant_detail.mccCommon ), &#10; &#34;gstIn&#34;: merchant_detail.gstin_no, &#10; &#34;storeId&#34;: merchant_detail.store_id, &#10; &#34;merchantGenre&#34;: merchant_detail.merchant_genre, &#10; &#34;onboardingType&#34;: merchant_detail.onboarding_type, &#10; &#34;isVerified&#34;: merchant_detail.is_verified, &#10; &#34;address&#34;: merchant_detail.address, &#10; &#34;city&#34;: merchant_detail.city, &#10; &#34;state&#34;: merchant_detail.state, &#10; &#34;pincode&#34;: number(merchant_detail.pin_code),&#10; &#34;qr_type&#34;: merchant_detail.qr_type,&#10; &#34;maker_username&#34;: makerId&#10; }" target="body" />
          <zeebe:input source="=false" target="ignoreNullValues" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="elementTemplateVersion" value="11" />
          <zeebe:header key="elementTemplateId" value="io.camunda.connectors.HttpJson.v2" />
          <zeebe:header key="resultExpression" value="=&#10;{&#10;  &#34;onboardApiResponse&#34; : response.body, &#34;submission_msg_s&#34;:response.body.message + (if response.body.error != null then (&#34; : &#34;+(if is empty(response.body.error) = null then  response.body.error else if is empty(response.body.error) = true then &#34;&#34;  else string join(for item in response.body.error return item.msg, &#34; and &#34;))) else &#34;&#34;)&#10;}" />
          <zeebe:header key="errorExpression" value="=if is defined(error) then &#10;bpmnError(&#34;111&#34;,&#34;Onboard Api Call Error&#34;, {&#34;onboardApiResponse_e&#34;: error, &#34;submission_msg_e&#34;: string(error.message) + &#34;(&#34; + string(error.code) + &#34;)&#34; + (if error.variables.response.body.message != null then (&#34; : &#34; + string(error.variables.response.body.message)) else &#34;&#34;) + (if error.variables.response.body.error != null then (&#34; : &#34; + string(error.variables.response.body.error)) else &#34;&#34;)})&#10;else null&#10;" />
          <zeebe:header key="retryBackoff" value="PT0S" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_Checker_Approve</bpmn:incoming>
      <bpmn:outgoing>Flow_0cvojvd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_08un8d2" name="Error" sourceRef="Event_0gtx3gx" targetRef="Activity_1u4cesz" />
    <bpmn:boundaryEvent id="Event_0gtx3gx" attachedToRef="Activity_0yopa39">
      <bpmn:extensionElements>
        <zeebe:ioMapping>
          <zeebe:output source="=onboardApiResponse_e" target="onboardApiResponse_e" />
          <zeebe:output source="=submission_msg_e" target="submission_msg_e" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_08un8d2</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0cdjipp" errorRef="Error_1k5doar" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_0mcyyc7" sourceRef="Activity_0tr9pfn" targetRef="Activity_1e7nydi" />
    <bpmn:serviceTask id="Activity_0tr9pfn" name="Get MCC  code list" zeebe:modelerTemplate="io.camunda.connectors.HttpJson.v2" zeebe:modelerTemplateVersion="11" zeebe:modelerTemplateIcon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE3LjAzMzUgOC45OTk5N0MxNy4wMzM1IDEzLjQ0NzUgMTMuNDI4MSAxNy4wNTI5IDguOTgwNjUgMTcuMDUyOUM0LjUzMzE2IDE3LjA1MjkgMC45Mjc3NjUgMTMuNDQ3NSAwLjkyNzc2NSA4Ljk5OTk3QzAuOTI3NzY1IDQuNTUyNDggNC41MzMxNiAwLjk0NzA4MyA4Ljk4MDY1IDAuOTQ3MDgzQzEzLjQyODEgMC45NDcwODMgMTcuMDMzNSA0LjU1MjQ4IDE3LjAzMzUgOC45OTk5N1oiIGZpbGw9IiM1MDU1NjIiLz4KPHBhdGggZD0iTTQuOTMxMjYgMTQuMTU3MUw2Ljc4MTA2IDMuNzE0NzFIMTAuMTM3NUMxMS4xOTE3IDMuNzE0NzEgMTEuOTgyNCAzLjk4MzIzIDEyLjUwOTUgNC41MjAyN0MxMy4wNDY1IDUuMDQ3MzYgMTMuMzE1IDUuNzMzNTggMTMuMzE1IDYuNTc4OTJDMTMuMzE1IDcuNDQ0MTQgMTMuMDcxNCA4LjE1NTIyIDEyLjU4NDEgOC43MTIxNUMxMi4xMDY3IDkuMjU5MTMgMTEuNDU1MyA5LjYzNzA1IDEwLjYyOTggOS44NDU5TDEyLjA2MTkgMTQuMTU3MUgxMC4zMzE1TDkuMDMzNjQgMTAuMDI0OUg3LjI0MzUxTDYuNTEyNTQgMTQuMTU3MUg0LjkzMTI2Wk03LjQ5NzExIDguNTkyODFIOS4yNDI0OEM5Ljk5ODMyIDguNTkyODEgMTAuNTkwMSA4LjQyMzc0IDExLjAxNzcgOC4wODU2MUMxMS40NTUzIDcuNzM3NTMgMTEuNjc0MSA3LjI2NTEzIDExLjY3NDEgNi42Njg0MkMxMS42NzQxIDYuMTkxMDYgMTEuNTI0OSA1LjgxODExIDExLjIyNjUgNS41NDk1OUMxMC45MjgyIDUuMjcxMTMgMTAuNDU1OCA1LjEzMTkgOS44MDkzNiA1LjEzMTlIOC4xMDg3NEw3LjQ5NzExIDguNTkyODFaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:http-json:1" retries="3" />
        <zeebe:ioMapping>
          <zeebe:input source="noAuth" target="authentication.type" />
          <zeebe:input source="GET" target="method" />
          <zeebe:input source="https://services-cboi-uat.isupay.in/CBOI/fetch/fetch-mcc" target="url" />
          <zeebe:input source="=false" target="storeResponse" />
          <zeebe:input source="=20" target="connectionTimeoutInSeconds" />
          <zeebe:input source="=20" target="readTimeoutInSeconds" />
          <zeebe:input source="=false" target="ignoreNullValues" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="elementTemplateVersion" value="11" />
          <zeebe:header key="elementTemplateId" value="io.camunda.connectors.HttpJson.v2" />
          <zeebe:header key="resultExpression" value="={mccList : for item in response.body.data return&#10;    {&#10;      &#34;label&#34;:string join([item.mcc_name,item.mcc_code],&#34; - &#34; ),&#10;      &#34;value&#34;:item.mcc_code,&#10;      &#34;is_common&#34;:item.is_common&#10;    }}" />
          <zeebe:header key="errorExpression" value="=if is defined(error) then jobError(string join([&#34;MCC fetch api call failed&#34;,error.code,string(error.variables.response.body)],&#34;;&#34;))  else null" />
          <zeebe:header key="retryBackoff" value="PT0S" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1mt94wt</bpmn:incoming>
      <bpmn:outgoing>Flow_0mcyyc7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1xlfies" sourceRef="Activity_1e7nydi" targetRef="Maker_Submit_Task" />
    <bpmn:scriptTask id="Activity_1e7nydi" name="Prefill merchant detail">
      <bpmn:extensionElements>
        <zeebe:script expression="={&#10;  &#34;bank_ifsc&#34;:ifsc_code&#10;}" resultVariable="merchant_detail" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0mcyyc7</bpmn:incoming>
      <bpmn:outgoing>Flow_1xlfies</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_06wfndn" sourceRef="Activity_15vm6s3" targetRef="Activity_0ehb8ie" />
    <bpmn:scriptTask id="Activity_15vm6s3" name="Update submission message">
      <bpmn:extensionElements>
        <zeebe:script expression="=if onboarding_status = &#34;Not Submitted&#34; then &#34;Merchant created successfully&#34; else if onboarding_status = &#34;Rejected&#34; then &#34;Merchant details updated successfully&#34; else &#34;&#34;" resultVariable="submission_msg" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_16of24l</bpmn:incoming>
      <bpmn:outgoing>Flow_06wfndn</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:scriptTask id="Activity_039nw8p" name="Update submission message">
      <bpmn:extensionElements>
        <zeebe:script expression="=&#34;Merchant rejected successfully&#34;" resultVariable="submission_msg" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1wcpgjc</bpmn:incoming>
      <bpmn:outgoing>Flow_1w3ym9g</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1w3ym9g" sourceRef="Activity_039nw8p" targetRef="Activity_0phuvc8" />
    <bpmn:exclusiveGateway id="Gateway_1yanajc">
      <bpmn:incoming>Flow_1ugqyj1</bpmn:incoming>
      <bpmn:outgoing>Flow_1b8b0l2</bpmn:outgoing>
      <bpmn:outgoing>Flow_1svbzag</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1b8b0l2" name="Success" sourceRef="Gateway_1yanajc" targetRef="Activity_08skwg6">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=onboardApiResponse.status=0</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1svbzag" name="Validation Failed" sourceRef="Gateway_1yanajc" targetRef="Checker_Approval_Task">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=onboardApiResponse.status!=0</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:scriptTask id="Activity_0phuvc8" name="Populate Mcc Field for Bulk Onboarded">
      <bpmn:extensionElements>
        <zeebe:script expression="=if merchant_detail.mccCommon = null and merchant_detail.mccOthers = null then &#10;context merge([merchant_detail, (if mccList[item.value=merchant_detail.mcc][1].is_common=&#34;Y&#34; then {&#34;mccCommon&#34;:merchant_detail.mcc,&#34;mccOthers&#34;:null} else {&#34;mccOthers&#34;:merchant_detail.mcc,&#34;mccCommon&#34;:&#34;Others&#34;})]) else merchant_detail" resultVariable="merchant_detail" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1w3ym9g</bpmn:incoming>
      <bpmn:outgoing>Flow_10z29qj</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_10z29qj" sourceRef="Activity_0phuvc8" targetRef="Maker_Submit_Task" />
    <bpmn:scriptTask id="Activity_1mwjb8u" name="Update submission message">
      <bpmn:extensionElements>
        <zeebe:script expression="=submission_msg_s" resultVariable="submission_msg" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0cvojvd</bpmn:incoming>
      <bpmn:outgoing>Flow_1ugqyj1</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1ugqyj1" sourceRef="Activity_1mwjb8u" targetRef="Gateway_1yanajc" />
    <bpmn:scriptTask id="Activity_1u4cesz" name="Update submission message">
      <bpmn:extensionElements>
        <zeebe:script expression="=submission_msg_e" resultVariable="submission_msg" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_08un8d2</bpmn:incoming>
      <bpmn:outgoing>Flow_0epx8rb</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_0epx8rb" sourceRef="Activity_1u4cesz" targetRef="Checker_Approval_Task" />
    <bpmn:sequenceFlow id="Flow_0dta87d" sourceRef="Event_08gufua" targetRef="Event_1yifgy2" />
    <bpmn:scriptTask id="Activity_0vnzks6" name="Populate Created &#38; Updated Date">
      <bpmn:extensionElements>
        <zeebe:script expression="=context merge([merchant_detail,{&#34;created_date&#34;:(if onboarding_status = &#34;Not Submitted&#34; then date and time(now(), &#34;Asia/Kolkata&#34;)  else created_date ),&#34;updated_date&#34;:(if onboarding_status != &#34;Not Submitted&#34; then date and time(now(), &#34;Asia/Kolkata&#34;) else null)}])" resultVariable="merchant_detail" />
        <zeebe:ioMapping>
          <zeebe:output source="=merchant_detail.created_date" target="created_date" />
          <zeebe:output source="=merchant_detail" target="merchant_detail" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1paqgpd</bpmn:incoming>
      <bpmn:outgoing>Flow_16of24l</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_16of24l" sourceRef="Activity_0vnzks6" targetRef="Activity_15vm6s3" />
  </bpmn:process>
  <bpmn:error id="Error_1k5doar" name="Onboard Api Error" errorCode="111" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="CBOI_Merchant_Onboarding_V1">
      <bpmndi:BPMNShape id="Event_0atkmlw_di" bpmnElement="Event_0atkmlw">
        <dc:Bounds x="1982" y="232" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1t4vxxe_di" bpmnElement="Checker_Approval_Task">
        <dc:Bounds x="1140" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_06j88uw_di" bpmnElement="Gateway_06j88uw" isMarkerVisible="true">
        <dc:Bounds x="1285" y="225" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0sjn0qd_di" bpmnElement="Activity_0kg4yce">
        <dc:Bounds x="1032" y="340" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1r5y2mi" bpmnElement="Activity_08skwg6">
        <dc:Bounds x="1850" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0dwi6wx" bpmnElement="Activity_0ehb8ie">
        <dc:Bounds x="1000" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1dah7nk_di" bpmnElement="Activity_0yopa39">
        <dc:Bounds x="1430" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1gtyyo2_di" bpmnElement="Activity_15vm6s3">
        <dc:Bounds x="870" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0ooak4t" bpmnElement="Activity_039nw8p">
        <dc:Bounds x="899" y="340" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1yanajc_di" bpmnElement="Gateway_1yanajc" isMarkerVisible="true">
        <dc:Bounds x="1725" y="225" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ougd3g_di" bpmnElement="Activity_0phuvc8">
        <dc:Bounds x="762" y="340" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0maadyv" bpmnElement="Activity_1mwjb8u">
        <dc:Bounds x="1590" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1h7n8vx" bpmnElement="Activity_1u4cesz">
        <dc:Bounds x="1430" y="369" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0su9081" bpmnElement="Activity_0vnzks6">
        <dc:Bounds x="733" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_1_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="232" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="158" y="275" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1wgtdrc_di" bpmnElement="Maker_Submit_Task">
        <dc:Bounds x="510" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0op0amp_di" bpmnElement="Event_1yifgy2">
        <dc:Bounds x="542" y="112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="518" y="82" width="86" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_13l6a0c_di" bpmnElement="Activity_0tr9pfn">
        <dc:Bounds x="240" y="210" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ln4cjr_di" bpmnElement="Activity_1e7nydi">
        <dc:Bounds x="370" y="210" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_19it9i8_di" bpmnElement="Event_0gtx3gx">
        <dc:Bounds x="1462" y="272" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0e9ww51_di" bpmnElement="Event_08gufua">
        <dc:Bounds x="542" y="192" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1quolf2_di" bpmnElement="Flow_1quolf2">
        <di:waypoint x="1950" y="250" />
        <di:waypoint x="1982" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1k7r11p_di" bpmnElement="Flow_1k7r11p">
        <di:waypoint x="1100" y="250" />
        <di:waypoint x="1140" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1svbzag_di" bpmnElement="Flow_1svbzag">
        <di:waypoint x="1750" y="275" />
        <di:waypoint x="1750" y="470" />
        <di:waypoint x="1190" y="470" />
        <di:waypoint x="1190" y="290" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1701" y="339" width="80" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0epx8rb_di" bpmnElement="Flow_0epx8rb">
        <di:waypoint x="1430" y="409" />
        <di:waypoint x="1190" y="409" />
        <di:waypoint x="1190" y="290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0f2c7s9_di" bpmnElement="Flow_0f2c7s9">
        <di:waypoint x="1240" y="250" />
        <di:waypoint x="1285" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16sk23g_di" bpmnElement="Flow_Checker_Approve">
        <di:waypoint x="1335" y="250" />
        <di:waypoint x="1430" y="250" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1354" y="237" width="41" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qr5neq_di" bpmnElement="Flow_Checker_Reject">
        <di:waypoint x="1310" y="275" />
        <di:waypoint x="1310" y="380" />
        <di:waypoint x="1132" y="380" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1315" y="300" width="32" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wcpgjc_di" bpmnElement="Flow_1wcpgjc">
        <di:waypoint x="1032" y="380" />
        <di:waypoint x="999" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1b8b0l2_di" bpmnElement="Flow_1b8b0l2">
        <di:waypoint x="1775" y="250" />
        <di:waypoint x="1850" y="250" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1786" y="237" width="43" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06wfndn_di" bpmnElement="Flow_06wfndn">
        <di:waypoint x="970" y="250" />
        <di:waypoint x="1000" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0cvojvd_di" bpmnElement="Flow_0cvojvd">
        <di:waypoint x="1530" y="250" />
        <di:waypoint x="1590" y="250" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1498" y="193" width="43" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16of24l_di" bpmnElement="Flow_16of24l">
        <di:waypoint x="833" y="250" />
        <di:waypoint x="870" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1w3ym9g_di" bpmnElement="Flow_1w3ym9g">
        <di:waypoint x="899" y="380" />
        <di:waypoint x="862" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ugqyj1_di" bpmnElement="Flow_1ugqyj1">
        <di:waypoint x="1690" y="250" />
        <di:waypoint x="1725" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10z29qj_di" bpmnElement="Flow_10z29qj">
        <di:waypoint x="762" y="380" />
        <di:waypoint x="560" y="380" />
        <di:waypoint x="560" y="290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_08un8d2_di" bpmnElement="Flow_08un8d2">
        <di:waypoint x="1480" y="308" />
        <di:waypoint x="1480" y="369" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1487" y="332" width="26" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1paqgpd_di" bpmnElement="Flow_1paqgpd">
        <di:waypoint x="610" y="250" />
        <di:waypoint x="733" y="250" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="630" y="236" width="84" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mt94wt_di" bpmnElement="Flow_1mt94wt">
        <di:waypoint x="188" y="250" />
        <di:waypoint x="240" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1xlfies_di" bpmnElement="Flow_1xlfies">
        <di:waypoint x="470" y="250" />
        <di:waypoint x="510" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dta87d_di" bpmnElement="Flow_0dta87d">
        <di:waypoint x="560" y="192" />
        <di:waypoint x="560" y="148" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0mcyyc7_di" bpmnElement="Flow_0mcyyc7">
        <di:waypoint x="340" y="250" />
        <di:waypoint x="370" y="250" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
